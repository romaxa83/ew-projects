Перенос на прод

- проверить перевод уведомления по ключу order_complete
чтоб запись в бд совпадал с записью в файле
--------------------------------------------------------
ПЕРЕВОДЫ

создание
translations: [
    {key: "button", translation: [
        {lang: "ru", text: "кнопка_ru"},
        {lang: "uk", text: "кнопка_uk"},
    ]},
]

обновление
translations: [
    {key: "button", translation: [
        {lang: "ru", text: "кнопка_ru_update"},
        {lang: "uk", text: "кнопка_uk"},
    ]},
]

удаление
translations: [
    {key: "button", translation: []},
]
--------------------------------------------------
Калькуляция

нужно создать модель для калькуляции CalcModelService->create()

созданная кальк. модель должна быть уникальна
кальк. модель - создается только для трех брендов (Volvo, Renault, Mitsubishi)
под каждый бренд свой набор обязательных полей (как при создании так и при запросе на калькуляцию)
        Renault
    1) brandId - бренд
    2) modelId - модель
    3) mileageId - пробег
    4) engineVolumeId - обьем двигателя

        Volvo
    1) brandId - бренд
    2) modelId - модель
    3) mileageId - пробег
    4) engineVolumeId - обьем двигателя
    5) fuelId - тип топлива

        Mitsubishi
    1) brandId - бренд
    2) modelId - модель
    3) mileageId - пробег
    4) engineVolumeId - обьем двигателя
    5) fuelId - тип топлива
    6) driveUnitId - привод
    7) transmissionId - трансмиссия

при создании модели к ней привязываются
    - "работы" и коэф. к каждой работе
        !!!!(при создании/редак. будут привязаны только те работы который привязаны к бренду данной кальк. модели)
       работы привязываются через редактирование бренда,
       там же нужно обязательно указать цену бренда (+ цена со скидкой, не обязательно),
       которое будет участвовать в калькуляции

    - "запчасти" и кол-во под каждую запчасть
        запчасти загружаются из файлов (.xlsx) предоставленных поставщиками, для каждого бренда
        свои запчасти
        (запчасти к группе , созданной заранее, а группа в свою очередь к бренду)

при запросе на калькуляцию подсчитываем
    запчасти: цена запчасти * кол-во (указанное при привязки к кальк. модели),
        суммируя все запчасти получаем общую сумму по запчастям
        так же подсчитываем и акционую цену ,если ее нет, возвращаем null для запчасти, но
        в totalDiscount для данной запчасти используем обычную цену

    работы: цена за работу (установленна у бренда, для каждого своя) * коэф. (указанное при привязки к кальк. модели)
        суммируя все работы, получаем общую сумму по работам
        также подсчитываем и по акц. цене (если ее нет, возвращаем null)



Пример:
 есть кальк. модель, у которой привязаны
    3 запчасти:
        price_1 - 240, priceD_1 - 200, qty_1 - 3
        price_2 - 650.5, priceD_2 - null, qty_2 - 2
        price_3 - 702.5, priceD_3 - null, qty_3 - 1

        просчет
            spares
                1 - price = 720 (240 * 3) , priceD = 600 (200 * 3)
                2 - price = 1301 (650.5 * 2) , priceD = null
                3 - price = 702.5 (702.5 * 1) , priceD = null
                total = 720 + 1301 + 702.5 = 2723.5
                totalD = 600 + 1301 + 702.5 = 2603.5

    2 работы
        minute_1 (коэф) - 2
        minute_2 (коэф) - 3.5
    у бренда часовая оплата - 1000, discount - null
        просчет
            work
                1 - price = 2000 (2 * 1000), priceD = null (2 * null)
                1 - price = 3500 (3.5 * 1000), priceD = null (3.5 * null)
                total = 2000 + 3500 = 5500
                totalD = 2000 + 3500 = 5500

    allTotal = 2723.5 + 5500 = 8223.5
    allTotalDiscount = 2603.5 + 5500 = 8103.5
--------------------------------------------------
Дополнительное согласования (as Agreement)

- согласования приходят, от системы АА
(на роут api/agreements, как принимает новые так и обновляет уже существующие)
все они получают статус "NEW"
- при принятии согласования пользователем происходит такой флоу:
    - согласованию переключается стату на "USED"
    - создается заявка с типом "agreement"
    - сервис для заявки устанавливается как "SERVICE_ALIAS"
    - дц, тип комуникации и время приходят от МП и сохраняются в заявке
    - заявки устанавливается uuid - это uuid самого согласования
    - запускается событие AcceptAgreementEvent:
          - делается запрос в АА для потверждения (на роут /arma_mdm/hs/maapi/order)
          - если ответ положительный согласованию устанавливается статус "VERIFY",
            а созданной, до этого заявки, устанавливается статус "CREATED", что делает ее
            принятой в АА (??? стоит обсудить , может переключать ее в статус "IN_PROCESS")
          - если ответ отрицательный, согласованию устанавливается статус "ERROR"
            (может быть сигналом для мобайл вывести ошибку, и предложить пользователю повторно сделать запрос)
    - в МП возвращается созданая заявка
- при отклонении согласования пользователем оно удаляется:
